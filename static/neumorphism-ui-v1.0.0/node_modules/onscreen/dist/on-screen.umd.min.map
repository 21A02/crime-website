{"version":3,"file":"dist/on-screen.umd.min.js","sources":["dist/on-screen.umd.js"],"names":["global","factory","exports","module","define","amd","OnScreen","this","attach","container","options","HTMLElement","style","window","getComputedStyle","position","addEventListener","_scroll","passive","attached","inViewport","el","arguments","length","undefined","tolerance","Error","document","querySelector","elRect","getBoundingClientRect","bottom","right","left","innerWidth","documentElement","clientWidth","top","innerHeight","clientHeight","inContainer","containerRect","offsetTop","scrollTop","offsetLeft","scrollLeft","width","height","eventHandler","trackedElements","selectors","Object","keys","testVisibility","forEach","selector","nodes","item","node","wasVisible","isVisible","enter","callback","leave","debouncedScroll","_this","timeout","clearTimeout","setTimeout","debounce","destroy","removeEventListener","off","event","handler","enterCallbacks","leaveCallbacks","hasOwnProperty","call","callbackName","name","on","allowed","indexOf","i","elems","querySelectorAll","push","observeDOM","obj","MutationObserver","WebKitMutationObserver","obs","observe","childList","subtree","defineProperties","configurable","enumerable","get","set","value","parseInt","defineProperty","writable","_debouncedScroll","element","prototype","check"],"mappings":"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"}